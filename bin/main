#!/usr/bin/env ruby
require_relative '../lib/player.rb'
require_relative '../lib/tictactoe.rb'

def game_play(board)
  game = TicTacToe.new(board)

  game.welcome
  puts 'WELCOME TO THE TIC TAC TOE GAME'

  puts "PRESS ANY KEY TO START THE GAME \n \n"
  gets.strip

  puts 'Player 1: '
  player_one = game.player_names
  while game.valid_name?(player_one) == false
    puts 'INVALID NAME!!!'
    puts 'Please Re-enter Player 1 name'
    player_one = game.player_names
  end

  puts 'Player 2: '
  player_two = game.player_names
  while game.valid_name?(player_two) == false
    puts 'INVALID NAME!!!'
    puts 'Please Re-enter Player 2 name'
    player_two = game.player_names
  end

  game.next_line

  game_play = Player.new(player_one, player_two)
  game_player = game_play.player

  puts '            Success!!! '
  puts "Player 1: [#{game_player[0][:name]}]   Token: \"#{game_player[0][:token]}\""
  puts "Player 2: [#{game_player[1][:name]}]   Token: \"#{game_player[1][:token]}\""
  puts '            Success!!! '

  game.next_line

  game.show_board

  game.next_line

  game_play.play(game.board, game_player)
end

game_play([' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '])
